file.rename("mytest.R",mytest2.R")
""
file.rename("mytest.R","mytest2.R")
file.copy("mytest.R","mytest3.R")
file.copy("mytest2.R","mytest3.R")
file.path("mytest3.R")
play()
dir.create("a","b",recursive=TRUE)
dir()
setwd("a")
dir()
setwd("..")
getwd()
file.delete("a")
dir.delete("a")
dir.remove("a")
unlink("a")
dir()
rm("a")
unlink("a", recursive=TRUE)
dir()
dir.create("a/b",recursive=TRUE)
dir()
setwd("a")
dir()
file.info("b")
unlink("b")
dir()
unlink("b",recursive=TRUE)
dir()
setwd("..")
dir()
unlink("a",recursive=TRUE)
dir.create("a/b")
dir()
nxt()
dir.create("testdir2/testdir3", recursive=TRUE)
unlink("testdir2",recursive=TRUE)
setwd(old.dir)
unlink("testdir",recursive=TRUE)
1:20
pi:10
15:1
?`:`
seq(1,20)
seq(0,10, by=0.5)
my_seq <- seq(5,10, length=30)
length(my_seq)
seq(1:length(my_seq))
1:length(my_seq)
seq(along.with = my_seq)
play()
?seq
along.with(my_seq)
nxt()
seq_along(my_seq)
rep(0,40)
rep(0, times=40)
play()
rep(c(1,2,3),10)
nxt()
rep(c(1,2,3), times=10)
rep(c(0,1,2), times=10)
rep(c(0,1,2), each=10)
num_vect <- c(0.5, 55, -10, 6)
play()
nxt()
tf <- num_vect > 1
tf <- num_vect < 1
tf
new <-num_vect >- 6
new <- num_vect >= 6
num_vect >= 6
my_char <- c("My", "name", "is")
my_char
paste(my_char, collapse = " ")
my_name <- c(my_char, "sthiyaga")
my_name
paste(mychar, collapse = " ")
paste(my_char, collapse = " ")
paste(my_name, collapse = " ")
paste("Hello", "world!", sep = " ")
paste(c(1,2,3), c("X","Y","Z"), sep = "")
paste(1:3, c("X","Y","Z"), sep = "")
paste(LETTERS, 1:4, sep = "-")
x < c(44, NA, 5, NA)
x <- c(44, NA, 5, NA)
x * 3
y <- rnorm(1000)
z < rep(NA, 1000)
z <- rep(NA, 1000)
my_data <- sample(c(y,z), 100)
my_na <- is.na(my_data)
my_na
my_data ==NA
sum(my_na)
my_data
0/0
inf-inf
Inf - Inf
x
x[1:10]
x[is.na(x)]
y <- x[!is.na(x)]
y
y[y>0]
x[x>0]
x[!isna(x) & x > 0]
x[!is.na(x) & x > 0]
x[c(3,5,7)]
x[0]
x[3000]
x[c(-2,-10)]
x[-c(2,10)]
vect <- c(foo = 11, bar = 2, norf = NA)
vect
names(vect)
vect <- c(11,2,NA)
vect <- c(11, 2, NA)
vect2 <- c(11, 2, NA)
names(vect2) <- c("foo", "bar", "norf")
identical(vect, vect2)
vect["bar"]
vect[c("foo", "bar")]
my_vector <- c(1:20)
my_vector <- 1:20
my_vector
dim(my_vector)
length(my_vector)
dim(my_vector) <- c(4,5)
dim(my_vector)
attributes(my_vector)
my_vector
class(my_vector)
my_matrix <- my_vector
?matrix
my_matrix2 <- matrix(1:20,4,5)
identical(my_matrix, my_matrix2)
patients <- c("Bill", "Gina","Kelly","Sean")
cbind(patients,my_matrix)
my_data <- data.frame(patients, my_matrix)
my_data
class(my_data)
cnames <- c("patient", "age", "weight","bp","rating","test")
colnames(my_data) <- cnames
my_data
bye()
quit()
aset <- c("aa", "bb", "cc", "aa", "dd", "ee", "cc", "dd")
factor(aser)
factor(aset)
unique(aset)
fac1 <- factor(aset)
fac1
aset <- c("aa", "cc", "aa", "dd", "ee", "cc", "dd", "ab", "bb" , "aa")
fac1 <- factor(aset)
fac1
unique(aset)
as.numeric(fac1)
order(aset)
sort(aset)
aset
fac1
as.numeric(fac1)
!as.numeric(fac1)
as.numeric(fac1)
fac1
fac2 <- c(fac1, "gg")
fac2
aset
fact2 <- factor(aset, levels = c( "aa", "cc", "dd"), ordered=TRUE)
fact2
as.numeric(fac2)
file <- "<a href http://www.rcsb.org/pdb/files/3CUO.pdb/">
http://www.rcsb.org/pdb/files/3CUO.pdb</a>
file <- "<a href http://www.rcsb.org/pdb/files/3CUO.pdb">
http://www.rcsb.org/pdb/files/3CUO.pdb
file <- http://www.rcsb.org/pdb/files/3CUO.pdb
file <- http://www.rcsb.org/pdb/files/3CUO.pdb
?scan
scan("http://www.rcsb.org/pdb/files/3CUO.pdb")
scan(file = "http://www.rcsb.org/pdb/files/3CUO.pdb")
scan(url = "http://www.rcsb.org/pdb/files/3CUO.pdb")
file <- url("3CUO.pdb", open="http://www.rcsb.org/pdb/files/3CUO.pdb")
file <- url("http://www.rcsb.org/pdb/files/3CUO.pdb")
file
open(file)
?open
x <-read.table(file)
point <- c(2,1,3)
?sin
xmat
xmat <- c(1,0,0,0,cos(x),sin(x),0,sin(-x),cosx)
x <- 60
xmat <- c(1,0,0,0,cos(x),sin(x),0,sin(-x),cosx)
xmat <- c(1,0,0,0,cos(x),sin(x),0,sin(-x),cos(x))
rotmat
rotmat <- matrix(3,3,xmat)
rotmat
?matrix
rotmat <- matrix(xmat, 3,3)
rotmat
cos(60)
x <- pi/3
rotmat
rotmat <- matrix(xmat, 3,3)
rotmat
x
cos(x)
xmat <- c(1,0,0,0,cos(x),sin(x),0,sin(-x),cos(x))
rotmat <- matrix(xmat, 3,3)
rotmat
c
pint
point
coord <- matrix(point)
coord
rotmat * coord
?matrix>mult
?matrix.multiply
rotmat %% coord
dim(rotmat)
dim(coord)
coord %% rotmat
rotmat %% point
install.packages("httr")
install.packages(""httpuv"")
install.packages("httpuv")
install.packages("quantmod")
library(quantmod)
amzn = getSymbols("AMZN",auto.assign=FALSE)
sampleTimes = index(amzn)
head(sampleTimes)
library("lubridate")
install.packages("lubridate")
library("lubridate")
q5 <- ymd(sampleTimes)
q5
format(q5, "%Y")
match("2012" in format(q5, "%Y"))
match("2012", format(q5, "%Y"))
match("2012" %in% format(q5, "%Y"))
?match
"2012" %in% format(q5, "%Y")
q5a <- format(q5, "%Y")
head(q5a)
q5a=="2012"
q5[q5a=="2012"]
length(q5[q5a=="2012"])
length(q5[q5=="2012"])
length(q5[year =="2012"])
head(q5)
q5[format %Y]
format(q5, "%Y")
q5[format(q5, "%Y") == 2012]
wday(q5[format(q5, "%Y") == 2012], label = TRUE)
q5a <- wday(q5[format(q5, "%Y") == 2012], label = TRUE)
length(q5a[q5a=="Mon"])
library("lubridate")
today()
today() - 28
d1 = "mar102015"
d1
d1=date(d1)
date()
??lubridate
tomorrow()
today() + 1
today() - 1
today() - 28
library(ggplot2)
data(movies)
qplot(Wind, Ozone, data = airquality, facets = . ~ factor(Month))
airquality = transform(airquality, Month = factor(Month))
qplot(Wind, Ozone, data = airquality, facets = . ~ Month)
ggplot(movies, aes(votes, rating))
?ggplot2
library(nlme)
library(lattice)
xyplot(weight ~ Time | Diet, BodyWeight)
library(swirl)
swirl()
setwd("D:/acad/coursera/ExploratoryDataAnalysis//asn2")
source("plot3.R")
g <- g + facet_grid(.~type) + geom_bar(stat="identity", aes(fill=type))
g <- g + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008"))
g<-  g + ylab("Total Emission in Tons") + xlab("Year")
g + geom_smooth(method="lm",color="blue", formula = y~x,size=2, se=F)
source('D:/acad/coursera/ExploratoryDataAnalysis/asn2/plot3.R')
SCC <- readRDS("Source_Classification_Code.rds")
head(SCC)
?select
sc1 <- subset(SCC,contains("Coal")), select(Emissions, year))
sc1 <- subset(SCC, Short.Name = contains("Coal")), select(Emissions, year))
sc1 <- subset(SCC, Short.Name = contains("Coal"), select(Emissions, year))
sc1 <- subset(SCC, Short.Name = contains("Coal"), select(SCC))
sc1 <- subset(SCC, Short.Name = contains("Coal"), select=(SCC))
sc1 <- subset(SCC, Short.Name = contains("Combustion"), select=(SCC))
sc1 <- subset(SCC, SCC.Level.One = contains("Combustion"), select=(SCC))
rm(sc1)
sc1 <- subset(SCC, SCC.Level.One = contains("Combustion"), select=(SCC))
sc1 <- subset(SCC, SCC.Level.One = contains("motor"), select=(SCC))
rm(sc1)
unique(SCc$SCC.Level.One)
unique(SCC$SCC.Level.One)
unique(SCC$SCC.Level.Two)
scc1 <- tbl_df(SCC)
select(scc1, SCC.Level.One = contains("Combustion"))
unique(SCC$SCC.Level.Three)
unique(SCC$SCC.Level.One)
levels(SCC$SCC.Level.One)
sc1 <- subset(SCC, SCC.Level.One == "External Combustion Boilers", select=(SCC))
rm(scc1)
head(sc1)
sc_tbldf <- tbl_df(SCC)
select(sc_tbldf, contains("Coal"))
select(sc_tbldf, -contains("Coal"))
unique(SCC$SCC.Level.One)
head(SCC)
unique(SCC$Short.Name)
head(unique(SCC$Short.Name))
sc1 <- subset(SCC, grepl("Coal"), SCC$Short.Name), select=c(SCC)
sc1 <- subset(SCC, grepl("Coal"), SCC$Short.Name)), select=c(SCC)
sc1 <- subset(SCC, grepl("Coal", SCC$Short.Name), select=c(SCC))
sc1 <- subset(SCC, grepl("Coal", Short.Name), select=c(SCC))
rm(sc_tbldf)
head(sc1)
df1 <- subset(NEI, SCC %in% sc1$SCC, select=c(Emissions,year))
df2 <- group_by(df1,year)
summarize(df2,sum(Emissions))
names(df3) = c("year", "Total Emissions")
head(df3)
df3 <- summarize(df2,sum(Emissions))
names(df3) = c("year", "Total Emissions")
head(df3)
g <- ggplot(df3, aes(x=year,y=Emissions)) + geom_line(color="green")
g
names(df3) = c("year", "Total_Emissions")
g <- ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green")
g
g <- ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green") + geom_points()
g <- ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green") + geom_point()
g <- ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green") + geom_point(size=3)
g <- ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_point()
g
g <- ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green") + geom_point()
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green") + geom_point()
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green") + geom_point() + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008"))
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green") + geom_point() + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(stat="identity")
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green") + geom_point() + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text()
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green") + geom_point() + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(label="x")
?geom_text
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green") + geom_point() + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label="id")
)
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green") + geom_point() + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=y)
)
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green") + geom_point() + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=Total_Emissions))
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green") + geom_point() + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=Total_Emissions/1000))
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green") + geom_point() + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=int(Total_Emissions/1000))
)
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green") + geom_point() + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=as.integer(Total_Emissions/1000)))
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green") + geom_point() + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=as.integer(Total_Emissions/1000), hjust=0))
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green") + geom_point() + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=as.integer(Total_Emissions/1000), hjust=2))
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green") + geom_point() + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=as.integer(Total_Emissions/1000), hjust=1))
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green") + geom_point() + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=as.integer(Total_Emissions/1000), hjust=-1))
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green") + geom_point() + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=as.integer(Total_Emissions/1000), vjust=1))
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green") + geom_point() + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=as.integer(Total_Emissions/1000), vjust=1.5))
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green") + geom_point() + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=Total_Emissions/1000, vjust=1.5))
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green") + geom_point() + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions/1000, digits=1), vjust=1.5))
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green", size=2) + geom_point() + ylab= "Emissions from Coal Combustions in kilo Tons" + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions/1000, digits=1), vjust=1.5))
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green") + geom_point() + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions/1000, digits=1), vjust=1.5))
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green", size=2) + geom_point() + ylab("Emissions from Coal Combustions in kilo Tons") + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions/1000, digits=1), vjust=1.5))
df3 <- summarize(df2, sum(Emissions)/1000)
names(df3) = c("year", "Total Emissions")
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green", size=2) + geom_point() + ylab("Emissions from Coal Combustions in kilo Tons") + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions/1000, digits=1), vjust=1.5))
df3 <- summarize(df2, sum(Emissions)/1000)
names(df3) = c("year", "Total_Emissions")
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green", size=2) + geom_point() + ylab("Emissions from Coal Combustions in kilo Tons") + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions/1000, digits=1), vjust=1.5))
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green", size=2) + geom_point() + ylab("Emissions from Coal Combustions in kilo Tons") + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions, digits=1), vjust=1.5))
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green", size=2) + geom_point() + ylab("Emissions from Coal Combustions in kilo Tons") + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions/1000, digits=1), hjust=1.5, vjust=0.5))
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green", size=2) + geom_point() + ylab("Emissions from Coal Combustions in kilo Tons") + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions, digits=1), hjust=1.5, vjust=0.5))
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green", size=2) + geom_point() + ylab("Emissions from Coal Combustions in kilo Tons") + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions, digits=1), hjust=0.5, vjust=0.5))
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green", size=2) + geom_point() + ylab("Emissions from Coal Combustions in kilo Tons") + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions, digits=1), hjust=0.5, vjust=-0.5))
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green", size=2) + geom_point() + ylab("Emissions from Coal Combustions in kilo Tons") + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions, digits=1), hjust=0.5, vjust=-0.3))
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green", size=2) + geom_point() + ylab("Emissions from Coal Combustions in kilo Tons") + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions, digits=1), hjust=0.5, vjust=-0.3))
source('D:/acad/coursera/ExploratoryDataAnalysis/asn2/plot4.R')
source('D:/acad/coursera/ExploratoryDataAnalysis/asn2/plot4.R')
png(filename="plot4.png")
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green", size=2) + geom_point() + ylab("Emissions from Coal Combustions in kilo Tons") + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions, digits=1), hjust=0.5, vjust=-0.3))
dev.off()
png(filename="plot4.png")
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green", size=2) + geom_point() + ylab("Emissions in kilo Tons") + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions, digits=1), hjust=0.5, vjust=-0.3)) + ggtitle("Emissions from Coal Combustions")
dev.off()
#Question 5
#Across the United States, how have emissions from coal combustion-related sources
#changed from 1999–2008?
# Upload a PNG file containing your plot addressing this question.
#loading ggplot2, dplyr for subsetting
library(ggplot2)
library(dplyr)
# Reading RDS data, command as suggested in question page.
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
# Getting SCC numbers from the column "Short.Name" that has the term "Coal")
sc1 <- subset(SCC, grepl("Coal", Short.Name), select=c(SCC))
#after picking SCC values, subsetting the NEI data
df1 <- subset(NEI, SCC %in% sc1$SCC, select=c(Emissions,year))
# Grouping by year, to make comparisons
df2 <- group_by(df1,year)
#divide the sum by 1000 for better readability of the plot
df3 <- summarize(df2, sum(Emissions)/1000)
names(df3) = c("year", "Total_Emissions") #changing the odd column name
#plotting begins here
png(filename="plot4.png")
#plotting all in one go
#Having points and lines, points describe the values in KTons.
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green", size=2) + geom_point() + ylab("Emissions in kilo Tons") + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions, digits=1), hjust=0.5, vjust=-0.3)) + ggtitle("Emissions from Coal Combustions")
dev.off()
head(SCC)
unique(SCC$Scc.Level.One)
unique(SCC$SCC.Level.One)
unique(SCC$SCC.Level.Two)
unique(SCC$SCC.Level.Three)
head(SCC)
sc1 <- subset(SCC, grepl("Motor | Vehicle", SCC.Level.Two), select=c(SCC)
)
sc1 <- subset(SCC, grepl("Motor | Vehicle", SCC.Level.Two))
head(sc1)
unique(sc1$SCC.Level.Three)
sc1 <- subset(SCC, grepl("Motor | Vehicle", SCC.Level.Two), select=SCC)
sc1 <- subset(SCC, grepl("Motor | Vehicle", SCC.Level.Two))
sc1 <- subset(SCC, grepl("Motor | Vehicle", SCC.Level.Two), select=SCC)
df1 <- subset(NEI, SCC %in% sc1$SCC & fips == 24510, select=c(Emissions,year))
rm(df1)
df1 <- subset(NEI, SCC %in% sc1$SCC & fips == 24510, select=c(Emissions,year))
df1 <- subset(NEI, SCC %in% sc1$SCC & fips == 24510, select=c(Emissions,year,fips))
head(df1)
df1 <- subset(NEI, SCC %in% sc1$SCC & fips == 24510, select=c(Emissions,year))
df2 <- group_by(df1,year)
df3 <- summarize(df2, sum(Emissions)/1000)
names(df3) = c("year", "Total_Emissions") #changing the odd column name
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green", size=2) + geom_point() + ylab("Emissions in kilo Tons") + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions, digits=1), hjust=0.5, vjust=-0.3)) + ggtitle("Emissions from Coal Combustions")
df3 <- summarize(df2, sum(Emissions))
names(df3) = c("year", "Total_Emissions") #changing the odd column name
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green", size=2) + geom_point() + ylab("Emissions in kilo Tons") + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions, digits=1), hjust=0.5, vjust=-0.3)) + ggtitle("Emissions from Coal Combustions")
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green", size=2) + geom_point() + ylab("Emissions in Tons") + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions, digits=1), hjust=0.5, vjust=-0.3)) + ggtitle("Emissions - Motor Vehicles in Baltimore")
#Question 6
#How have emissions from motor vehicle sources changed from 1999–2008 in Baltimore City?
#loading ggplot2, dplyr for subsetting
library(ggplot2)
library(dplyr)
# Reading RDS data, command as suggested in question page.
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
# Getting SCC numbers from the column "SCC.Level.Two" that has the term "Motor" or "Vehicles)
sc1 <- subset(SCC, grepl("Motor | Vehicle", SCC.Level.Two), select=SCC)
#after picking SCC values, subsetting the NEI data
df1 <- subset(NEI, SCC %in% sc1$SCC & fips == 24510, select=c(Emissions,year))
# Grouping by year, to make comparisons
df2 <- group_by(df1,year)
#divide the sum by 1000 for better readability of the plot
df3 <- summarize(df2, sum(Emissions))
names(df3) = c("year", "Total_Emissions") #changing the odd column name
#plotting begins here
png(filename="plot5.png")
#plotting all in one go
#Having points and lines, points describe the values in KTons.
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green", size=2) + geom_point() + ylab("Emissions in Tons") + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions, digits=1), hjust=0.5, vjust=-0.3)) + ggtitle("Emissions - Motor Vehicles in Baltimore")
dev.off()
df1 <- subset(NEI, (SCC %in% sc1$SCC) & (fips == 24510 | fips == 06037), select=c(Emissions,year))
df1 <- subset(NEI, SCC %in% sc1$SCC & fips == 24510, select=c(Emissions,year))
df1 <- subset(NEI, SCC %in% sc1$SCC & (fips == 24510 | fips == 06037), select=c(Emissions,year))
head(df1)
df1 <- subset(NEI, SCC %in% sc1$SCC & (fips == 24510 | fips == 06037), select=c(Emissions,year,fips))
head(df1)
unique(df1$fips)
df1 <- subset(NEI, SCC %in% sc1$SCC & (fips == 24510 | fips == "06037"), select=c(Emissions,year,fips))
unique(df1$fips)
df2 <- group_by(df1, fips,year, add=TRUE)
df3 <- summarize(df2, sum(Emissions), fips)
df3 <- summarize(df2,sum(Emissions)
)
df3
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green", size=2) + geom_point() + facet_grid(.~fips, aes(color=fips)) + ylab("Emissions in Tons") + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions, digits=1), hjust=0.5, vjust=-0.3)) + ggtitle("Emissions - Motor Vehicles in Baltimore")
df3 <- summarize(df2, sum(Emissions))
names(df3) = c("fips", "year", "Total_Emissions") #changing the odd column name
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green", size=2) + geom_point() + facet_grid(.~fips, aes(color=fips)) + ylab("Emissions in Tons") + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions, digits=1), hjust=0.5, vjust=-0.3)) + ggtitle("Emissions - Motor Vehicles in Baltimore")
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_line(color="green", size=2) + geom_point() + facet_grid(.~fips) + ylab("Emissions in Tons") + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions, digits=1), hjust=0.5, vjust=-0.3)) + ggtitle("Emissions - Motor Vehicles in Baltimore")
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_bars(color="green", size=2) + geom_point() + facet_grid(.~fips) + ylab("Emissions in Tons") + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions, digits=1), hjust=0.5, vjust=-0.3)) + ggtitle("Emissions - Motor Vehicles in Baltimore")
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_bar(color="green", size=2) + geom_point() + facet_grid(.~fips) + ylab("Emissions in Tons") + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions, digits=1), hjust=0.5, vjust=-0.3)) + ggtitle("Emissions - Motor Vehicles in Baltimore")
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_bar(stat="identity", color=fips, size=2) + geom_point() + facet_grid(.~fips) + ylab("Emissions in Tons") + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions, digits=1), hjust=0.5, vjust=-0.3)) + ggtitle("Emissions - Motor Vehicles in Baltimore")
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_bar(stat="identity", color="blue", size=2) + geom_point() + facet_grid(.~fips) + ylab("Emissions in Tons") + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions, digits=1), hjust=0.5, vjust=-0.3)) + ggtitle("Emissions - Motor Vehicles in Baltimore")
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_bar(stat="identity", color="blue", fill=fips) + geom_point() + facet_grid(.~fips) + ylab("Emissions in Tons") + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions, digits=1), hjust=0.5, vjust=-0.3)) + ggtitle("Emissions - Motor Vehicles in Baltimore")
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_bar(stat="identity") + geom_point() + facet_grid(.~fips) + ylab("Emissions in Tons") + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions, digits=1), hjust=0.5, vjust=-0.3)) + ggtitle("Emissions - Motor Vehicles in Baltimore")
ggplot(df3, aes(x=year,y=Total_Emissions)) + geom_bar(stat="identity") + geom_point() + facet_grid(.~fips) + ylab("Emissions in Tons") + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions, digits=1), hjust=0.5)) + ggtitle("Emissions - Motor Vehicles in Baltimore")
?geom_bar
ggplot(df3, aes(x=year,y=Total_Emissions, fill=fips)) + geom_bar(stat="identity") + geom_point() + facet_grid(.~fips) + ylab("Emissions in Tons") + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions, digits=1), hjust=0.5)) + ggtitle("Emissions - Motor Vehicles in Baltimore")
levels(df3$fips)
head(df3)
level(df3$fips)
levels(df3$fips)
levels(df1$fips)
ggplot(df3, aes(x=year,y=Total_Emissions, fill=fips)) + geom_bar(stat="identity") + geom_point() + facet_grid(.~fips, labeller=c("Los Angelis", "Baltimore")) + ylab("Emissions in Tons") + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions, digits=1), hjust=0.5)) + ggtitle("Emissions - Motor Vehicles in Baltimore")
?facet_grid
?mutate
?dplyr
ggplot(df3, aes(x=year,y=Total_Emissions, fill=fips)) + geom_bar(stat="identity") + geom_point() + facet_grid(.~fips) + ylab("PM2.5 Emissions in Tons") + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions, digits=1), hjust=0.5)) + ggtitle("Motor Vehicle Emissions LosAngelis Vs Baltimore")
png(filename="plot6.png")
#plotting all in one go
#Having points and lines, points describe the values in KTons.
ggplot(df3, aes(x=year,y=Total_Emissions, fill=fips)) + geom_bar(stat="identity") + geom_point() + facet_grid(.~fips) + ylab("PM2.5 Emissions in Tons") + scale_x_continuous(breaks = c(1999,2002,2005,2008), labels = c("1999","2002","2005","2008")) + geom_text(aes(label=round(Total_Emissions, digits=1), hjust=0.5)) + ggtitle("Motor Vehicle Emissions LosAngelis Vs Baltimore")
dev.off()
